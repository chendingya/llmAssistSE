# 图片EXIF信息水印工具

一个基于Python的交互式命令行工具，用于在图片上添加基于EXIF拍摄时间信息的水印。

## 功能

- 读取图片EXIF信息中的拍摄时间
- 将拍摄时间作为水印添加到图片上
- 支持处理单个文件或整个目录
- 交互式设置水印字体大小、颜色和位置
- 处理后的图片保存在 `_watermark` 子目录中
- 不依赖外部字体，通过图像缩放技术实现字体大小调节
- 支持多种颜色格式（十六进制或名称）
- 自动回退到文件修改时间（当EXIF信息不可用时）

## 安装依赖

```bash
pip install pillow
```

## 使用方法

运行程序后，按照提示输入相关信息：

```bash
python src/a.py
```

程序将交互式地询问以下信息：
1. 图片文件路径或目录路径（默认为当前目录）
2. 字体大小（默认32，作为缩放因子）
3. 字体颜色（十六进制格式如#ffffff或颜色名称，默认为白色）
4. 水印位置（默认右下角）

输入 'Ctrl+C' 退出程序。

## 支持的图片格式

- JPEG
- PNG
- TIFF
- BMP
- WebP

## 水印位置选项

1. 左上角 (top-left)
2. 右上角 (top-right)
3. 居中 (center)
4. 左下角 (bottom-left)
5. 右下角 (bottom-right) [默认]

## 工作原理

1. 程序启动后进入交互模式
2. 用户输入图片文件路径或目录路径
3. 程序扫描指定路径下的所有支持的图片文件
4. 对于每张图片，程序从EXIF信息中提取拍摄时间（尝试DateTimeOriginal、DateTime、DateTimeDigitized标签）
5. 如果没有EXIF信息，则使用文件修改时间
6. 将时间格式化为 YYYY-MM-DD 格式作为水印文本
7. 用户可自定义水印的字体大小（通过图像缩放实现）、颜色和位置
8. 程序将处理后的图片保存在原目录的 `_watermark` 子目录中